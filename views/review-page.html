<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Review</title>
    <link rel="stylesheet" href="review-page.css">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"> -->
</head>

<body>
    <div class="logo">
        <img src="../photos/logof.png" alt="logo">
        <!-- <span><button></button></span> -->
    </div>
    <hr>
    <div class="container">
        <div class="poster-section">
            <img id="movie-poster" src="" alt="Movie Poster">
        </div>
        <div class="review-section">
            <h1 id="movie-name"></h1>
            <textarea id="review-text" placeholder="Write your review..." rows="5" cols="50"></textarea>
            <br>
            <button id="submit-button">Submit Review</button>
            <!-- <button type="button" class="btn btn-outline-primary">Submit</button> -->
        </div>
    </div>

    <div class="all-reviews">
        <h2>All Reviews:</h2>
        <ul id="reviews-list">
            <!-- Existing reviews will be dynamically added here -->
        </ul>
    </div>

    <script>
        // Get movie details from the URL query parameters
        const urlParams = new URLSearchParams(window.location.search);
        const movieName = urlParams.get('movieName');
        const moviePoster = urlParams.get('moviePoster');

        // Display movie details on the review page
        document.getElementById('movie-name').textContent = movieName;
        document.getElementById('movie-poster').src = decodeURIComponent(moviePoster);

        // Submit button click event handler
        document.getElementById('submit-button').addEventListener('click', () => {
            const reviewText = document.getElementById('review-text').value;
            const reviewsList = document.getElementById('reviews-list');

            // You can handle the review submission here.
            // You may want to make an API call to submit the review to your backend server.

            // Create a new list item to display the review
            const newReviewItem = document.createElement('li');
            newReviewItem.textContent = reviewText;

            // Append the new review to the existing reviews list
            reviewsList.appendChild(newReviewItem);

            // Clear the review text area after submitting the review
            document.getElementById('review-text').value = '';

            // You can handle the review submission and storage in your backend here.
            // For now, we are simply displaying the review on the review page.

            // For example, you can make an API call to your server to store the review in the database.
            // You can use fetch or any other library to make API calls.

        });
    </script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> -->
</body>

</html>